(function(){function callPlaceAd2Queue(e){if(e){var t=e.length,n=0;for(n;n<t;n++)placeAd2.apply(window,e[n])}}var requirejs,require,define;(function(e){function c(e,t){return f.call(e,t)}function h(e,t){var n,r,i,s,o,a,f,l,c,h,p=t&&t.split("/"),d=u.map,v=d&&d["*"]||{};if(e&&e.charAt(0)===".")if(t){p=p.slice(0,p.length-1),e=p.concat(e.split("/"));for(l=0;l<e.length;l+=1){h=e[l];if(h===".")e.splice(l,1),l-=1;else if(h===".."){if(l===1&&(e[2]===".."||e[0]===".."))break;l>0&&(e.splice(l-1,2),l-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((p||v)&&d){n=e.split("/");for(l=n.length;l>0;l-=1){r=n.slice(0,l).join("/");if(p)for(c=p.length;c>0;c-=1){i=d[p.slice(0,c).join("/")];if(i){i=i[r];if(i){s=i,o=l;break}}}if(s)break;!a&&v&&v[r]&&(a=v[r],f=l)}!s&&a&&(s=a,o=f),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function p(t,r){return function(){return n.apply(e,l.call(arguments,0).concat([t,r]))}}function d(e){return function(t){return h(t,e)}}function v(e){return function(t){s[e]=t}}function m(n){if(c(o,n)){var r=o[n];delete o[n],a[n]=!0,t.apply(e,r)}if(!c(s,n)&&!c(a,n))throw new Error("No "+n);return s[n]}function g(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function y(e){return function(){return u&&u.config&&u.config[e]||{}}}var t,n,r,i,s={},o={},u={},a={},f=Object.prototype.hasOwnProperty,l=[].slice;r=function(e,t){var n,r=g(e),i=r[0];return e=r[1],i&&(i=h(i,t),n=m(i)),i?n&&n.normalize?e=n.normalize(e,d(t)):e=h(e,t):(e=h(e,t),r=g(e),i=r[0],e=r[1],i&&(n=m(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},i={require:function(e){return p(e)},exports:function(e){var t=s[e];return typeof t!="undefined"?t:s[e]={}},module:function(e){return{id:e,uri:"",exports:s[e],config:y(e)}}},t=function(t,n,u,f){var l,h,d,g,y,b=[],w;f=f||t;if(typeof u=="function"){n=!n.length&&u.length?["require","exports","module"]:n;for(y=0;y<n.length;y+=1){g=r(n[y],f),h=g.f;if(h==="require")b[y]=i.require(t);else if(h==="exports")b[y]=i.exports(t),w=!0;else if(h==="module")l=b[y]=i.module(t);else if(c(s,h)||c(o,h)||c(a,h))b[y]=m(h);else{if(!g.p)throw new Error(t+" missing "+h);g.p.load(g.n,p(f,!0),v(h),{}),b[y]=s[h]}}d=u.apply(s[t],b);if(t)if(l&&l.exports!==e&&l.exports!==s[t])s[t]=l.exports;else if(d!==e||!w)s[t]=d}else t&&(s[t]=u)},requirejs=require=n=function(s,o,a,f,l){return typeof s=="string"?i[s]?i[s](o):m(r(s,o).f):(s.splice||(u=s,o.splice?(s=o,o=a,a=null):s=e),o=o||function(){},typeof a=="function"&&(a=f,f=l),f?t(e,s,o,a):setTimeout(function(){t(e,s,o,a)},4),n)},n.config=function(e){return u=e,u.deps&&n(u.deps,u.callback),n},define=function(e,t,n){t.splice||(n=t,t=[]),!c(s,e)&&!c(o,e)&&(o[e]=[e,t,n])},define.amd={jQuery:!0}})(),define("lib/almond",function(){}),function(){var e=void 0,g=!0,h=null,k=!1,l,n=this,aa=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},p=function(e){return"array"==aa(e)},ba=function(e){var t=aa(e);return"array"==t||"object"==t&&"number"==typeof e.length},r=function(e){return"string"==typeof e},s=function(e){return"number"==typeof e},t=function(e){return"function"==aa(e)},ca="closure_uid_"+(1e9*Math.random()>>>0),da=0,ea=function(e,t,n){return e.call.apply(e.bind,arguments)},fa=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},ga=function(e,t,n){return ga=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ea:fa,ga.apply(h,arguments)},u=function(e,t){function n(){}n.prototype=t.prototype,e.Yb=t.prototype,e.prototype=new n},x=function(e){return e=parseFloat(e),isNaN(e)||1<e||0>e?0:e},ha=/^([\w-]+\.)*([\w-]{2,})(\:[0-9]+)?$/,y=function(e,t){if(!e)return t;var n=e.match(ha);return n?n[0]:t},ia=x("0.02"),ja=x("1"),ka=x("1"),la=x("0.005"),ma=x("0.01"),na=x("0.001"),oa=parseInt("1500",10),pa=isNaN(oa)?1500:oa,qa=x("0.5"),ra=x("0.0"),sa=/^true$/.test("false")?g:k,ta=function(){return y("","pagead2.googlesyndication.com")},ua="http://"+ta()+"/pagead/show_ads.js",z=function(){return n.googletag||(n.googletag={})},A=function(e,t,n){var r=z();if(!(e in r)||n)r[e]=t},va=function(e,t){e.addEventListener?e.addEventListener("load",t,k):e.attachEvent&&e.attachEvent("onload",t)},C={};C[1]=ta(),C[2]=y("","pubads.g.doubleclick.net"),C[3]=y("","securepubads.g.doubleclick.net"),C[4]=y("","partner.googleadservices.com"),C[5]=ua,C[6]=sa,C[7]=ia,C[8]=ja,C[9]=ka,C[10]=ma,C[11]=na,C[12]=la,C[13]=pa,C[15]=qa,A("_vars_",C);var E=function(e,t,n,r,i){this.na=new Date,this.q=r||h,this.ma=n||h,this.Ra=e,this.Sa=t,this.la=i||h};l=E.prototype,l.cb=function(){return this.q},l.bb=function(){return this.ma},l.ab=function(){return this.Ra},l.Xa=function(){return this.na},l.Fb=function(){return this.Sa},l.Hb=function(){return this.la};var wa=["Debug","Info","Warning","Error","Fatal"];E.prototype.toString=function(){var e=this.na.toTimeString()+": "+wa[this.Ra]+": "+this.Sa;return this.la&&(e+=" Duration: "+(this.na.getTime()-this.la.Xa().getTime())+"ms."),e},E.prototype.getTimestamp=E.prototype.Xa,E.prototype.getService=E.prototype.bb,E.prototype.getSlot=E.prototype.cb,E.prototype.getLevel=E.prototype.ab,E.prototype.getMessage=E.prototype.Fb,E.prototype.getReference=E.prototype.Hb;var F=function(){this.H=[]};F.prototype.vb=function(){return this.H},F.prototype.Cb=function(e){return xa(this,function(t){return t.bb()===e})},F.prototype.Db=function(e){return xa(this,function(t){return t.cb()===e})},F.prototype.Bb=function(e){return xa(this,function(t){return t.ab()>=e})};var xa=function(e,t){for(var n=[],r=0;r<e.H.length;++r)t(e.H[r])&&n.push(e.H[r]);return n};F.prototype.log=function(e,t,n,r,i){return e=new E(e,t,n,r,i),this.H.push(e),e},F.prototype.info=function(e,t,n,r){return this.log(1,e,t,n,r)};var G=function(t,n,r,i){t.log(2,n,r,i,e)};F.prototype.error=function(e,t,n,r){return this.log(3,e,t,n,r)};var I=function(){var e=z();return e.debug_log||(e.debug_log=new F)};A("getEventLog",I),F.prototype.getAllEvents=F.prototype.vb,F.prototype.getEventsByService=F.prototype.Cb,F.prototype.getEventsBySlot=F.prototype.Db,F.prototype.getEventsByLevel=F.prototype.Bb;var J=function(){this.Ya=this.sa=0};J.prototype.push=function(e){for(var n=I(),r=0;r<arguments.length;++r)try{t(arguments[r])&&(arguments[r](),this.sa++)}catch(i){this.Ya++,n.error("Exception invoking function: "+i.message)}return n.info("Invoked queued function. Total: "+this.sa+" Errors: "+this.Ya),this.sa},J.prototype.push=J.prototype.push,function(){function t(t){this.t={},this.tick=function(t,n,r){this.t[t]=[r!=e?r:(new Date).getTime(),n]},this.tick("start",h,t)}var n=new t;window.GPT_jstiming={Timer:t,load:n};if(window.performance&&window.performance.timing){var n=window.performance.timing,r=window.GPT_jstiming.load,i=n.navigationStart,n=n.responseStart;0<i&&n>=i&&(r.tick("_wtsrt",e,i),r.tick("wtsrt_","_wtsrt",n),r.tick("tbsd_","wtsrt_"))}try{n=h,window.chrome&&window.chrome.csi&&(n=Math.floor(window.chrome.csi().pageT),r&&0<i&&(r.tick("_tbnd",e,window.chrome.csi().startE),r.tick("tbnd_","_tbnd",i))),n==h&&window.gtbExternal&&(n=window.gtbExternal.pageT()),n==h&&window.external&&(n=window.external.pageT,r&&0<i&&(r.tick("_tbnd",e,window.external.startE),r.tick("tbnd_","_tbnd",i))),n&&(window.GPT_jstiming.pt=n)}catch(s){}}();if(window.GPT_jstiming){window.GPT_jstiming.$a={},window.GPT_jstiming.lb=1;var ya=function(t,n,r){var i=t.t[n],s=t.t.start;if(i&&(s||r))return i=t.t[n][0],r!=e?s=r:s=s[0],i-s},za=function(e,t,n){var r="";window.GPT_jstiming.pt&&(r+="&srt="+window.GPT_jstiming.pt,delete window.GPT_jstiming.pt);try{window.external&&window.external.tran?r+="&tran="+window.external.tran:window.gtbExternal&&window.gtbExternal.tran?r+="&tran="+window.gtbExternal.tran():window.chrome&&window.chrome.csi&&(r+="&tran="+window.chrome.csi().tran)}catch(i){}var s=window.chrome;if(s&&(s=s.loadTimes)){s().wasFetchedViaSpdy&&(r+="&p=s");if(s().wasNpnNegotiated){var r=r+"&npn=1",o=s().npnNegotiatedProtocol;o&&(r+="&npnv="+(encodeURIComponent||escape)(o))}s().wasAlternateProtocolAvailable&&(r+="&apa=1")}var u=e.t,a=u.start,s=[],o=[],f;for(f in u)if("start"!=f&&0!=f.indexOf("_")){var l=u[f][1];l?u[l]&&o.push(f+"."+ya(e,f,u[l][0])):a&&s.push(f+"."+ya(e,f))}delete u.start;if(t)for(var c in t)r+="&"+c+"="+t[c];return(t=n)||(t="https:"==document.location.protocol?"https://csi.gstatic.com/csi":"http://csi.gstatic.com/csi"),[t,"?v=3","&s="+(window.GPT_jstiming.sn||"gpt")+"&action=",e.name,o.length?"&it="+o.join(","):"","",r,"&rt=",s.join(",")].join("")},Aa=function(e,t,n){e=za(e,t,n);if(!e)return"";t=new Image;var r=window.GPT_jstiming.lb++;return window.GPT_jstiming.$a[r]=t,t.onload=t.onerror=function(){window.GPT_jstiming&&delete window.GPT_jstiming.$a[r]},t.src=e,t=h,e};window.GPT_jstiming.report=function(e,t,n){if("prerender"==document.webkitVisibilityState){var r=k,i=function(){if(!r){t?t.prerender="1":t={prerender:"1"};var s;"prerender"==document.webkitVisibilityState?s=k:(Aa(e,t,n),s=g),s&&(r=g,document.removeEventListener("webkitvisibilitychange",i,k))}};return document.addEventListener("webkitvisibilitychange",i,k),""}return Aa(e,t,n)}}var K=Array.prototype,Ba=K.indexOf?function(e,t,n){return K.indexOf.call(e,t,n)}:function(e,t,n){n=n==h?0:0>n?Math.max(0,e.length+n):n;if(r(e))return!r(t)||1!=t.length?-1:e.indexOf(t,n);for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ca=K.forEach?function(e,t,n){K.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,s=r(e)?e.split(""):e,o=0;o<i;o++)o in s&&t.call(n,s[o],o,e)},L,Da,Ea,Fa,Ga=function(){return n.navigator?n.navigator.userAgent:h};Fa=Ea=Da=L=k;var Ha;if(Ha=Ga()){var Ia=n.navigator;L=0==Ha.indexOf("Opera"),Da=!L&&-1!=Ha.indexOf("MSIE"),Ea=!L&&-1!=Ha.indexOf("WebKit"),Fa=!L&&!Ea&&"Gecko"==Ia.product}var Ja=L,M=Da,Ka=Fa,La=Ea,Ma=function(){var t=n.document;return t?t.documentMode:e},Na;e:{var Oa="",N;if(Ja&&n.opera)var Pa=n.opera.version,Oa="function"==typeof Pa?Pa():Pa;else if(Ka?N=/rv\:([^\);]+)(\)|;)/:M?N=/MSIE\s+([^\);]+)(\)|;)/:La&&(N=/WebKit\/(\S+)/),N)var Qa=N.exec(Ga()),Oa=Qa?Qa[1]:"";if(M){var Ra=Ma();if(Ra>parseFloat(Oa)){Na=String(Ra);break e}}Na=Oa}var Sa=Na,Ta={},Ua=function(e){if(!Ta[e]){for(var t=0,n=String(Sa).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),r=String(e).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),i=Math.max(n.length,r.length),s=0;0==t&&s<i;s++){var o=n[s]||"",u=r[s]||"",a=RegExp("(\\d*)(\\D*)","g"),f=RegExp("(\\d*)(\\D*)","g");do{var l=a.exec(o)||["","",""],c=f.exec(u)||["","",""];if(0==l[0].length&&0==c[0].length)break;t=((0==l[1].length?0:parseInt(l[1],10))<(0==c[1].length?0:parseInt(c[1],10))?-1:(0==l[1].length?0:parseInt(l[1],10))>(0==c[1].length?0:parseInt(c[1],10))?1:0)||((0==l[2].length)<(0==c[2].length)?-1:(0==l[2].length)>(0==c[2].length)?1:0)||(l[2]<c[2]?-1:l[2]>c[2]?1:0)}while(0==t)}Ta[e]=0<=t}},Va=n.document,Wa=!Va||!M?e:Ma()||("CSS1Compat"==Va.compatMode?parseInt(Sa,10):5);if(Ka||M){var Xa;if(Xa=M)Xa=M&&9<=Wa;Xa||Ka&&Ua("1.9.1")}M&&Ua("9");var O=function(e,t){this.nb=e,this.mb=t};O.prototype.Lb=function(){return this.nb},O.prototype.Eb=function(){return this.mb},O.prototype.getWidth=O.prototype.Lb,O.prototype.getHeight=O.prototype.Eb;var P=function(e,t,n){this.A=e,this.Ua=s(t)?t:0,this.g=this.A+"_"+this.Ua,this.kb=n||"gpt_unit_"+this.g};l=P.prototype,l.p=function(){return this.g},l.getName=function(){return this.A},l.Wa=function(){return this.Ua},l.toString=P.prototype.p,l.l=function(){return this.kb},P.prototype.getId=P.prototype.p,P.prototype.getName=P.prototype.getName,P.prototype.getDomId=P.prototype.l,P.prototype.getInstance=P.prototype.Wa;var Ya=function(e){return e.replace(/[^a-zA-Z0-9]/g,function(e){return"&#"+e.charCodeAt()+";"})},Za=function(){var e=h,t=window,n=h;try{for(;t!=h&&t!==e;){n=t.location.protocol;if("https:"===n)break;if("http:"===n||"file:"===n)return k;e=t,t=t.parent}}catch(r){}return g},Q=function(e,t,n,r){this.A=e;var i=[];if(p(n))if(1<n.length&&s(n[0])&&s(n[1]))i.push(new O(n[0],n[1]));else for(var o=0;o<n.length;++o){var u=n[o];p(u)&&1<u.length&&s(u[0])&&s(u[1])&&i.push(new O(u[0],u[1]))}this.gb=i,this.g=new P(e,t,r),this.c=[],this.h={},this.n=h,this.b=I(),this.b.info("Created slot: "+this.g,h,this),this.w=this.M=h,this.Ga=this.Fa="",this.$=g,this.d={},this.ba=[],this.Ha=k,this.Ea=this.Da=h,this.fb=k};l=Q.prototype,l.set=function(e,t){var n=[" attribute ",e," with value ",t," for slot ",this.getName()].join("");return e&&r(e)&&t?(this.h[e]=t,this.M||this.w?G(this.b,"Setting"+n+" after its contents have been loaded",h,this):this.b.info("Setting"+n,h,this)):G(this.b,"Unable to set"+n,h,this),this},l.get=function(e){return e in this.h?this.h[e]:h},l.C=function(){var e=[],n;for(n in this.h)t(this.h[n])||e.push(n);return e},l.ka=function(e){for(var t=0;t<this.c.length;++t)if(e==this.c[t])return G(this.b,"Service "+e.getName()+" is already associated with slot "+this.g,e,this),this;return this.c.push(e),e.ea(this),this},l.getName=function(){return this.A},l.i=function(){return this.g},l.Ta=function(){return this.c},l.Ib=function(){return this.gb},l.B=function(){return!!document.getElementById(this.g.l())},l.R=function(e){this.n=e},l.G=function(e){return this.Ga=e,this},l.ca=function(){return this.Ga},l.ua=function(e){if(r(e)&&!/^[\s\xa0]*$/.test(e==h?"":String(e))){var t=this.ba;0<=Ba(t,e)||t.push(e),this.b.info("Setting slot level ad category exclusion: "+e,h,this)}else G(this.b,"Invalid slot level ad category exclusion label supplied",h,this);return this},l.ta=function(){return this.b.info("Clearing all slot level ad category exclusions",h,this),this.ba=[],this},l.wb=function(){var e;e=this.ba;var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];e=n}else e=[];return e},l.recordImpression=function(){if(!this.fb)return G(this.b,"Not recording impression as enableManualImpression was not called on this slot.",h,this),this;for(var e=this.Ta(),t=k,n=0;n<e.length;++n){var r=e[n];r.isEnabled()&&(r.recordImpression(this),t=g)}return t||G(this.b,"Not recording impression as no service is enabled.",h,this),this},l.s=function(e,t){var n=[];p(t)?n=t:t&&n.push(t.toString());var i=[" targeting attribute ",e," with value ",n.join()," for slot ",this.getName()].join("");if(e&&r(e)){this.b.info("Setting"+i,h,this);e:{var i=this.d[e],s=n;if(!ba(i)||!ba(s)||i.length!=s.length)i=k;else{for(var o=i.length,u=0;u<o;u++)if(i[u]!==s[u]){i=k;break e}i=g}}this.d[e]=n;if(!i&&(this.M||this.w))for(i=0;i<this.c.length;++i)s=this.c[i],s.isEnabled()&&s.Ia(this,e,n)}else G(this.b,"Unable to set"+i,h,this);return this},l.ob=function(){this.b.info("Clearing slot targeting.",h,this);var e;e:{for(e in this.d){e=k;break e}e=g}this.d={};if(!e)for(e=0;e<this.c.length;++e){var t=this.c[e];t.isEnabled()&&t.clearSlotTargeting(this)}return this},l.Jb=function(){var e=this.d,t={},n;for(n in e)t[n]=e[n];return t},l.Gb=function(){return this.Ha},l.Sb=function(e,t){return this.Ea=(this.Da=e)&&Boolean(t),t&&!e&&G(this.b,"Ignoring a call to setCollapseEmptyDiv(false, true). Slots that start out collapsed should also collapse when empty. Slot "+this.g,h,this),this},l.xb=function(){return this.Da},l.Ab=function(){return this.Ea};var $a=function(e){if(!e.B())return e.b.error("Unable to write to slot "+e.g+". It has not yet been rendered.",h,e),k;var t=n.document,i=e.g.l(),t=t&&t.getElementById(i);return t?(i=e.n,r(i)&&0<i.length?(e.Ka(),t.innerHTML=i,e.Ja(),g):k):(e.b.error("Unable to find the div container with id "+i+" for slot "+e.g,h,e),k)};l=Q.prototype,l.ub=function(e){this.M=this.b.info("Fetching ad for slot "+this.getName(),h,this),this.Fa=e},l.yb=function(){return this.Fa},l.tb=function(){this.b.info("Receiving ad for slot "+this.getName(),h,this,this.M)},l.Ka=function(){this.w=this.b.info("Rendering ad for slot "+this.getName(),h,this)},l.Ja=function(){this.b.info("Completed rendering ad for slot "+this.getName(),h,this,this.w)},Q.prototype.set=Q.prototype.set,Q.prototype.get=Q.prototype.get,Q.prototype.getName=Q.prototype.getName,Q.prototype.getSlotId=Q.prototype.i,Q.prototype.getSizes=Q.prototype.Ib,Q.prototype.addService=Q.prototype.ka,Q.prototype.getOutOfPage=Q.prototype.Gb,Q.prototype.getServices=Q.prototype.Ta,Q.prototype.getAttributeKeys=Q.prototype.C,Q.prototype.fetchStarted=Q.prototype.ub,Q.prototype.fetchEnded=Q.prototype.tb,Q.prototype.renderStarted=Q.prototype.Ka,Q.prototype.renderEnded=Q.prototype.Ja,Q.prototype.hasWrapperDiv=Q.prototype.B,Q.prototype.getContentUrl=Q.prototype.yb,Q.prototype.setClickUrl=Q.prototype.G,Q.prototype.getClickUrl=Q.prototype.ca,Q.prototype.clearTargeting=Q.prototype.ob,Q.prototype.getTargetingMap=Q.prototype.Jb,Q.prototype.setTargeting=Q.prototype.s,Q.prototype.setCategoryExclusion=Q.prototype.ua,Q.prototype.clearCategoryExclusions=Q.prototype.ta,Q.prototype.getCategoryExclusions=Q.prototype.wb,Q.prototype.getCollapseEmptyDiv=Q.prototype.xb,Q.prototype.setCollapseEmptyDiv=Q.prototype.Sb,Q.prototype.getDivStartsCollapsed=Q.prototype.Ab;var R=function(){this.F={},this.N={},this.b=I()};R.prototype.add=function(e,t,n){return!r(e)||0>=e.length||!t?h:(e in this.F||(this.F[e]=[]),t=new Q(e,this.F[e].length,t,n),n=t.i().l(),this.N[n]?(this.b.error("Div element "+n+" is already associated with another slot"),h):(this.F[e].push(t),this.N[t.i().l()]=t))},R.prototype.find=function(e,t){var n=t||0,i=r(e)&&this.F[e]||[];return 0<=n&&n<i.length&&(i=i[n],i.i().Wa()==n)?i:h};var ab=function(){var e=z();return e.slot_manager_instance||(e.slot_manager_instance=new R)},bb=function(e,t,n){var r=ab();return r&&r.add(e,t,n)};A("defineOutOfPageSlot",function(e,t){var n=ab();return n?(n=n.add(e,[1,1],t))?(n.Ha=g,n):h:h}),A("defineSlot",bb),A("defineUnit",bb),R.prototype.find=R.prototype.find,R.getInstance=ab;var cb=function(e){var t=I();if(r(e)){var n;n=ab(),n.N[e]?n=n.N[e]:(G(n.b,"Ad unit lookup for div "+e+" failed."),n=h);if(n)if(e=n,e.$&&!e.B())G(e.b,"Slot "+e.A+" does not have a container div with id: "+e.g.l()+".",h,e);else for(t=0;t<e.c.length;++t)e.c[t].isEnabled()&&e.c[t].K(e);else t.error("Div "+e+" is not mapped to a known ad unit.")}else t.error("Unknown div id in display(): "+e.toString())};A("display",cb,g);var S=function(){this.Pa=[],this.Qa={},this.oa=k,this.h={},this.log=I(),this.log.info("Created service: "+this.getName(),this)};l=S.prototype,l.getName=function(){return"unknown"},l.getVersion=function(){return"unversioned"},l.set=function(e,t){var n=["attribute ",e," with value ",t," for service ",this.getName()].join("");return r(e)&&0<e.length?(this.h[e]=t,this.log.info("Setting "+n,this,h)):G(this.log,"Unable to set "+n,this,h),this},l.get=function(e){return this.h[e]},l.C=function(){var e=[],t;for(t in this.h)"function"!=typeof this.h[t]&&e.push(t);return e},l.j=function(){return this.Pa},l.Za=function(){return this.Qa},l.isEnabled=function(){return this.oa},l.enable=function(){if(this.oa)this.log.info("Service is already enabled.",this);else{this.oa=g;try{this.ra()}catch(e){this.log.error("Failed to enable service: "+e,this)}}},l.display=function(e,t,n,r){this.enable(),e=n?bb(e,t,n):bb(e,t),e.ka(this),r&&e.G(r),cb(e.i().l())},l.ea=function(e){this.Pa.push(e),this.Qa[e.i().p()]=e,this.log.info("Associated "+this.getName()+" service with slot "+e.getName(),this,e)},l.clearSlotTargeting=function(){},l.Ia=function(){},l.recordImpression=function(){},S.prototype.getSlots=S.prototype.j,S.prototype.getSlotIdMap=S.prototype.Za,S.prototype.enable=S.prototype.enable,S.prototype.set=S.prototype.set,S.prototype.get=S.prototype.get,S.prototype.getAttributeKeys=S.prototype.C,S.prototype.display=S.prototype.display;var db=function(e,t){this.name=e,this.qa=t?t:new n.GPT_jstiming.Timer,this.qa.name=e,this.pa=[]};l=db.prototype,l.getName=function(){return this.name},l.tick=function(e,t){this.qa.tick(e,t)},l.Va=function(e){e&&this.pa.push(e)},l.report=function(){var e="https:"==n.location.protocol?"https://www.google.com/csi":"http://csi.gstatic.com/csi",t={};return this.pa.length&&(t.e=this.pa.join()),n.GPT_jstiming.report(this.qa,t,e)},l.eb=function(e){va(window,function(){setTimeout(e,10)})};var T=function(e){this.name=e};u(T,db),T.prototype.tick=function(){},T.prototype.Va=function(){},T.prototype.report=function(){return h},T.prototype.eb=function(){};var eb=function(){var t=n.GPT_jstiming.load,r=.01;return r==e&&(r=.01),n.GPT_jstiming&&n.GPT_jstiming.load&&("http:"==n.location.protocol||"https:"==n.location.protocol)&&Math.random()<r?new db("global",t):new T("global")};(function(){if(!z()._gpt_timer_&&n.GPT_jstiming){var e=eb();e.eb(function(){e.tick("load"),e.report()}),A("_gpt_timer_",e)}return z()._gpt_timer_})();var U=function(){this.c={},this.aa=k,this.b=I(),this.ib=this.b.info("Google service JS loaded"),va(window,ga(U.prototype.jb,this))};U.prototype.add=function(e){this.c[e.getName()]=e},U.prototype.find=function(e){var t=h;return e in this.c&&(t=this.c[e]),t},U.prototype.jb=function(){this.aa=g,this.b.info("Page load complete",h,h,this.ib)};var fb=function(e,t,n){e=k;try{e=t.top.document.URL===n.URL}catch(r){}return e?n.URL:n.referrer},V=function(){var e=z();return e.service_manager_instance||(e.service_manager_instance=new U)};A("enableServices",function(){var e=V(),n;for(n in e.c){var r=e.c[n];if(!t(r)){r.enable();var r=n,i=z()._gpt_timer_;i&&i.Va(r)}}});var W=function(){S.call(this),this.La=g,this.ja=k,this.P=0,this.Q="",this.ha=this.ga=this.fa=this.D=e,this.Ma=this.ia=k,this.da={},this.O=k};u(W,S),l=W.prototype,l.ra=function(){if(this.La){if(!this.Ma){var e=document,t=document.createElement("script");t.async=g,t.type="text/javascript",t.src=this.o();try{var r=e.getElementsByTagName("script")[0];this.log.info("Fetching companion ads implementation",this),this.Ma=g,r.parentNode&&r.parentNode.insertBefore(t,r)}catch(i){this.log.error("Unable to fetch companion ads implementation",this)}}}else this.ia||(n.document.write('<script type="text/javascript" src="'+Ya(this.o())+'"></script>'),this.ia=g)},l.qb=function(){this.La=k},l.Tb=function(e){"boolean"==typeof e&&(this.ja=e)},l.Nb=function(e){if(this.ja){for(var t=this.Za(),n=[],r=0;r<e.length;++r){var i=e[r];i in t?n.push(t[i]):G(this.log,"Cannot find slot with id "+i+".",this)}gb(this,n)}},l.Na=function(){var e=googletag.pubads();if(!e.isEnabled())return k;var e=e.j(),t=this.j();if(e.length!=t.length)return k;for(var n=0;n<t.length;++n){for(var r=k,i=0;i<e.length;++i)if(t[n]===e[i]){r=g;break}if(!r)return k}return g},l.Qb=function(){this.ja&&gb(this,h)},l.Vb=function(t,n,r,i,s,o,u){this.O=k,this.P=0,this.Q="",this.ha=this.ga=this.fa=this.D=e,this.P=t,this.Q=n,this.D=r,0==this.D.length&&(this.D=e);e:{t=i.split(","),n=[];for(r=0;r<t.length;++r){i=t[r].split("x");if(2!=i.length){this.log.error("The master ad size specified is invalid."),t=e;break e}i=[Number(i[0]),Number(i[1])];if(isNaN(i[0])||isNaN(i[1])){this.log.error("The master ad size specified is invalid."),t=e;break e}n.push(i)}t=n}this.fa=t,s!==e&&(this.ga=s),o!==e&&(this.ha=o),u!==e&&(this.O=u)},l.zb=function(){return googletag.pubads().getCorrelator()},l.getVideoStreamCorrelator=function(){return googletag.pubads().getVideoStreamCorrelator()},l.Wb=function(e){this.P=e},l.Xb=function(e){this.Q=e};var gb=function(e,t){var n=googletag.pubads();if(n.isEnabled()){if(e.O){if(!e.Na()){G(e.log,"Persistent roadblock requested, but ad slots are incorrectly configured. All ad slots on page must have both pubads and companionAds services attached. Skipping refresh.");return}n.clearNoRefreshState(),n.clear()}n.Oa(t,e.P,e.Q,e.D,e.fa,e.ga,e.ha,e.O)}else e.log.error("Pubads service is not enabled, cannot use refresh feature.")};l=W.prototype,l.isSlotAPersistentRoadblock=function(e){var t=googletag.pubads();return t.isEnabled()?t.isSlotAPersistentRoadblock(e):(this.log.error("Pubads service is not enabled, cannot check whether slot is a persistent roadblock.  Content writing allowed."),k)},l.getName=function(){return"companion_ads"},l.o=function(){var e=document,t=h;try{t=e.location.protocol}catch(n){}return("https:"==t?"https:":"http:")+"//pagead2.googlesyndication.com/pagead/show_companion_ad.js"},l.Pb=function(){this.log.info("Companion ads implementation fetched.",this),this.ia=g},l.r=function(e){var t=e&&e.i().p();return t&&t in this.da&&e.B()&&this.isEnabled()&&!this.isSlotAPersistentRoadblock(e)?(e.R(this.da[t]),$a(e)):k},l.K=function(e){this.r(e)},l.fillSlot=function(e,t){return e&&r(t)&&0<t.length?(this.da[e.i().toString()]=t,this.r(e)):k},A("companionAds",function(){var e=V(),t=e.find("companion_ads");return t||(t=new W,e.add(t)),t}),W.prototype.fillSlot=W.prototype.fillSlot,W.prototype.enableSyncLoading=W.prototype.qb,W.prototype.isSlotAPersistentRoadblock=W.prototype.isSlotAPersistentRoadblock,W.prototype.isRoadblockingSupported=W.prototype.Na,W.prototype.onImplementationLoaded=W.prototype.Pb,W.prototype.notifyUnfilledSlots=W.prototype.Nb,W.prototype.refreshAllSlots=W.prototype.Qb,W.prototype.setRefreshUnfilledSlots=W.prototype.Tb,W.prototype.setXfpCorrelator=W.prototype.Wb,W.prototype.setXfpPreviousAdsToken=W.prototype.Xb,W.prototype.setVideoSessionInfo=W.prototype.Vb,W.prototype.getDisplayAdsCorrelator=W.prototype.zb,W.prototype.getVideoStreamCorrelator=W.prototype.getVideoStreamCorrelator;var X=function(){S.call(this),this.n={}};u(X,S),l=X.prototype,l.getName=function(){return"content"},l.r=function(e){var t=e&&e.i().p();return t in this.n&&this.isEnabled()&&e.B()&&!e.w?(e.R(this.n[t]),$a(e)):k},l.ra=function(){for(var e=this.j(),t=0;t<e.length;++t)this.r(e[t])},l.K=function(e){this.r(e)},l.R=function(e,t){e&&r(t)&&0<t.length&&(this.n[e.i().p()]=t,this.r(e))},A("content",function(){var e=V(),t=e.find("content");return t||(t=new X,e.add(t)),t}),X.prototype.setContent=X.prototype.R;var hb=h,ib=Ka||La||Ja||"function"==typeof n.atob,Y=function(e,t,n){!r(e)||0>=e.length||!t||!n?I().error("Illegal slot name or size in PassbackSlot(). Name: "+e+"; size: "+t+"; service: "+n):(this.q=new Q(e,this[ca]||(this[ca]=++da),t),this.q.ka(n),this.ma=n)};Y.prototype.G=function(e){return this.q.G(e),this},Y.prototype.s=function(e,t){return this.q.s(e,t),this},Y.prototype.display=function(){jb(this.ma,this.q)},Y.prototype.setClickUrl=Y.prototype.G,Y.prototype.setTargeting=Y.prototype.s,Y.prototype.display=Y.prototype.display;var Z=function(){S.call(this),this.u=k,this.a=h,this.va=0,this.d={},this.W=[],this.Aa=this.V="",this.za=k,this.xa=g,this.m=this.wa=k,this.f=g,this.S=this.I=this.ya=k,this.k=[],this.J=[],this.T=[],this.L=[],this.U=k,this.X={},this.Y=k,this.Ba=this.Ca="",this.v=[];var e=fb(V(),window,document);"108809006"==kb(e,"api_experiment")?this.Z("108809006"):!(1e-4>Math.random())&&Math.random()<2*ra&&this.Z(!(1e-4>Math.random())&&.5>Math.random()?"108809006":"108809005")};u(Z,S);var lb={adsense_ad_format:"google_ad_format",adsense_ad_types:"google_ad_type",adsense_allow_expandable_ads:"google_allow_expandable_ads",adsense_background_color:"google_color_bg",adsense_bid:"google_bid",adsense_border_color:"google_color_border",adsense_channel_ids:"google_ad_channel",adsense_content_section:"google_ad_section",adsense_cpm:"google_cpm",adsense_ed:"google_ed",adsense_encoding:"google_encoding",adsense_family_safe:"google_safe",adsense_feedback:"google_feedback",adsense_flash_version:"google_flash_version",adsense_font_face:"google_font_face",adsense_font_size:"google_font_size",adsense_hints:"google_hints",adsense_host:"google_ad_host",adsense_host_channel:"google_ad_host_channel",adsense_host_tier_id:"google_ad_host_tier_id",adsense_keyword_type:"google_kw_type",adsense_keywords:"google_kw",adsense_line_color:"google_line_color",adsense_link_color:"google_color_link",adsense_relevant_content:"google_contents",adsense_reuse_colors:"google_reuse_colors",adsense_targeting:"google_targeting",adsense_targeting_types:"google_targeting",adsense_test_mode:"google_adtest",adsense_text_color:"google_color_text",adsense_ui_features:"google_ui_features",adsense_ui_version:"google_ui_version",adsense_url_color:"google_color_url",alternate_ad_iframe_color:"google_alternate_color",alternate_ad_url:"google_alternate_ad_url",demographic_age:"google_cust_age",demographic_ch:"google_cust_ch",demographic_gender:"google_cust_gender",demographic_interests:"google_cust_interests",demographic_job:"google_cust_job",demographic_l:"google_cust_l",demographic_lh:"google_cust_lh",demographic_u_url:"google_cust_u_url",demographic_unique_id:"google_cust_id",document_language:"google_language",geography_override_city:"google_city",geography_override_country:"google_country",geography_override_region:"google_region",page_url:"google_page_url"};Z.prototype.ra=function(){if(this.f){if(!this.u){var e=document,t=e.createElement("script");V(),t.async=g,t.type="text/javascript",t.src=this.o(),(e=e.getElementsByTagName("head")[0]||e.getElementsByTagName("body")[0])?(this.log.info("Fetching GPT implementation",this),e.appendChild(t),this.u=g):this.log.error("Unable to fetch GPT implementation",this)}}else mb(this)},Z.prototype.getName=function(){return"publisher_ads"},Z.prototype.o=function(){var e=Za()?"https:":"http:";return 0<=Ba(this.v,"108809006")?e+"//partner.googleadservices.com/gpt/pubads_impl_21.js":e+"//partner.googleadservices.com/gampad/google_ads_gpt.js"};var mb=function(e){var t=V();!e.u&&!t.aa&&(t=document,e.u=g,t.write('<script type="text/javascript" src="'+Ya(e.o())+'"></script>'))};Z.prototype.fillSlot=function(e){this.log.info("Calling fillslot"),this.a.fillSlot(e),this.X[e.getName()]=g;if(this.a)if(this.U)(e=this.j()[0])&&e.getName()in this.X&&(this.refresh(),this.U=k);else for(e=0;e<this.L.length;e++){var t=this.L[e];t[0].getName()in this.X&&(this.refresh(t),K.splice.call(this.L,e,1),e--)}else this.log.error("Bad call to check refreshes before impl is loaded",this)},Z.prototype.Ob=function(){V();var e=z().impl;if(e&&e.pubads){this.a=e.pubads,this.log.info("GPT implementation fetched.",this),t(this.a.setCookieOptions)&&this.a.setCookieOptions(this.va),this.xa||this.a.disableFetch(),this.I&&this.a.collapseEmptyDivs(this.S);if(this.m){this.f?this.a.enableAsyncSingleRequest():this.a.enableSingleRequest(),nb(this);for(var e=this.j(),n=0;n<e.length;++n)ob(this,e[n])}else this.f&&this.a.enableAsyncRendering();this.wa&&this.a.disableInitialLoad(),pb(this);if(0<this.k.length)for(n=0;n<this.k.length;++n)this.K(this.k[n]);if(0<this.J.length)for(n=0;n<this.J.length;++n)jb(this,this.J[n]);Ca(this.T,this.recordImpression,this),this.T=[]}else this.log.error("Unable to fetch pubads service implementation from "+this.o(),this)},Z.prototype.ea=function(e){this.f||(e.$=k),S.prototype.ea.call(this,e)},Z.prototype.K=function(e){if(V().aa&&!this.f)this.log.error("Attempting to display ad in sync mode after page load is complete.",this);else if(this.a)nb(this),(this.m||ob(this,e))&&this.fillSlot(e);else if(this.f||this.u&&0==this.k.length){for(var t=k,n=0;n<this.k.length;++n)e===this.k[n]&&(t=g);t||(this.log.info("Delaying rendering of ad slot "+e.getName()+" pending loading of the GPT implementation",this,e),this.k.push(e))}else this.log.error("Skipping rendering of slot "+e.getName()+" due to missing GPT implementaition",this,e)};var ob=function(e,n){if(e.a&&e.a.addSlot(n)==h)return e.log.error("Unable to process name for slot "+n.getName(),e,n),k;for(var r=n.C(),i=0;i<r.length;++i)r[i]in lb?e.a.addAdSenseSlotAttribute(n,lb[r[i]],n.get(r[i])):G(e.log,"Ignoring unknown pubads attribute "+r[i]+" with value "+n.get(r[i])+" for slot "+n.getName(),e,n);if(t(e.a.addSlotTargeting)){var r=[],s;for(s in n.d)t(n.d[s])||r.push(s);for(s=0;s<r.length;++s)e.a.addSlotTargeting(n,r[s],r[s]in n.d?n.d[r[s]]:[])}return n.ca()&&t(e.a.hb)&&e.a.hb(n,n.ca()),g},nb=function(n){if(!n.za){n.za=g;for(var r=n.C(),i=0;i<r.length;++i)r[i]in lb?n.a.addAdSensePageAttribute(lb[r[i]],n.get(r[i])):G(n.log,"Ignoring unknown pubads attribute "+r[i]+" with value "+n.get(r[i]),n);n.a.addAdSensePageAttribute("google_tag_info","v2");for(var s in n.d)if(r=n.d[s],p(r))for(i=0;i<r.length;++i)n.a.addAttribute(s,r[i]);t(n.a.addPageCategoryExclusion)&&Ca(n.W,function(e){this.a.addPageCategoryExclusion(e)},n),t(n.a.setPublisherProvidedId)&&n.a.setPublisherProvidedId(n.Aa),n.V&&n.a.setLocation(n.V),n.a.setCenterAds!==e&&n.a.setCenterAds(n.ya),n.a.setApiExperiment!==e?Ca(n.v,function(e){this.a.setApiExperiment(e)},n):0==n.v.length||G(n.log,"Ignoring forced experiments due to lack of support in the Pubads implementation. Experiments: "+n.v.join())}};l=Z.prototype,l.setCookieOptions=function(e){return!s(e)||!isFinite(e)||0!=e%1||0>e?(G(this.log,"Cookie options must be an integer number, 0 or greater. Ignoring value: "+e,this),this):(this.va=e,this.a&&t(this.a.setCookieOptions)&&this.a.setCookieOptions(e),this)},l.s=function(e,t){var n=[];r(t)?n.push(t):n=t;var i=[" targeting attribute ",e," with value ",n.join()," for service ",this.getName()].join("");return e&&r(e)?(this.d[e]=n,this.log.info("Setting"+i,this)):G(this.log,"Unable to set"+i,this),this},l.ua=function(e){if(r(e)&&!/^[\s\xa0]*$/.test(e==h?"":String(e))){var t=this.W;0<=Ba(t,e)||t.push(e),this.log.info("Setting page level ad category exclusion: "+e,this)}else G(this.log,"Invalid page level ad category exclusion label supplied",this);return this},l.ta=function(){return this.log.info("Clearing all page level ad category exclusions",this),this.W=[],this},l.Mb=function(){this.a?G(this.log,"Ignoring noFetch since the pubads service is already enabled",this):this.xa=k},l.disableInitialLoad=function(){this.a?G(this.log,"Ignoring disableInitialLoad since the pubads service is already enabled",this):this.wa=g},l.enableSingleRequest=function(){return this.isEnabled()&&!this.m?G(this.log,"Ignoring change to single request mode since the service is already enabled",this):(this.log.info("Using single request mode to fetch ads",this),this.m=g),this.m},l.enableAsyncRendering=function(){return this.isEnabled()&&!this.f?G(this.log,"Ignoring change to async-rendering mode since the service is already enabled",this):(this.log.info("Using async-rendering mode to fetch ads",this),this.f=g),this.f},l.rb=function(){if(this.isEnabled()&&this.f)G(this.log,"Ignoring change to async-rendering mode since the service is already enabled",this);else{this.log.info("Using sync-rendering mode to fetch ads",this),this.f=k;for(var e=this.j(),t=0;t<e.length;++t)e[t].$=k}return!this.f},l.Rb=function(e){this.log.info("Setting centering to "+e,this),this.ya=e},l.setPublisherProvidedId=function(e){return this.isEnabled()?G(this.log,"Ignoring change to PPID since the service is already enabled. Not setting: "+e,this):(this.log.info("Setting PPID to "+e,this),this.Aa=e),this},l.pb=function(e,t){return new Y(e,t,this)};var jb=function(e,n){mb(e),e.a?t(e.a.passback)?e.a.passback(n):e.log.error("The GPT impl does not yet support passbacks.",e,n):(e.log.info("Delaying passback of ad slot "+n.getName()+" pending loading of the GPT implementation",e,n),e.J.push(n))};l=Z.prototype,l.refresh=function(e){if(e&&!p(e))G(this.log,"Slots to refresh must be an array.",this);else{var t=h;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];r instanceof Q?t.push(r):G(this.log,"Slot object at position "+n+" is of incorrect type.",this)}if(!t.length){this.log.error("No valid slot ids found, refresh aborted.",this);return}}this.a?(this.log.info("Refreshing ads",this),this.a.refresh(t)):this.m?(this.log.info("Refresh pushed on pending list until GPT implementation Javascript loads.",this),t?(e=this.L,0<=Ba(e,t)||e.push(t)):this.U=g):G(this.log,"The ads cannot be refreshed because the GPT implementation Javascript is not yet loaded.",this)}},l.Oa=function(e,t,n,i,o,u,a,f){if(e&&!p(e))G(this.log,"Slots to refresh must be an array.",this);else if(t&&!s(t))G(this.log,"Correlator must be a number.",this);else if(n&&!r(n))G(this.log,"Pstok must be a string.",this);else if(i&&!r(i))G(this.log,"Video IU must be a string.",this);else if(o&&!p(o))G(this.log,"Video IU sizes must be an array.",this);else if(u&&!s(u))G(this.log,"Pod number must be a number.",this);else if(a&&!s(a))G(this.log,"Pod position must be a number.",this);else if(f&&"boolean"!=typeof f)G(this.log,"Persistent roadblocks only must be a boolean.",this);else if(this.a){var l=h;if(e){for(var l=[],c=0;c<e.length;++c){var d=e[c];d instanceof Q?l.push(d):G(this.log,"Slot object at position "+c+" is of incorrect type.",this)}if(!l.length){this.log.error("No valid slot ids found, refresh aborted.",this);return}}if(o)for(c=0;c<o.length;++c){e=o[c];if(!p(e)||2!=e.length){this.log.error("Video size array must have only two values, refresh aborted.",this);return}for(d=0;d<e.length;++d)if(!s(e[d])){this.log.error("Video size array must contain only numbers, refresh aborted.",this);return}}this.log.info("Refreshing ads",this),this.a.refresh(l,t,n,i,o,u,a,f)}else G(this.log,"The ads cannot be refreshed because the GPT implementation Javascript is not yet loaded.",this)},l.sb=function(){this.Y=g,pb(this)},l.Ub=function(e,t){this.Y=g,this.Ca=e,this.Ba=t,pb(this)},l.Kb=function(){return!this.a||this.a.getVideoContentInformation==h?h:this.a.getVideoContentInformation()};var pb=function(e){e.Y&&e.a&&e.a.setVideoContentInformation&&e.a.setVideoContentInformation(e.Ca,e.Ba)};l=Z.prototype,l.getCorrelator=function(){return 0==this.j().length?"not_available":this.a?this.a.getCorrelator==h?"not_available":this.a.getCorrelator():"not_loaded"},l.getVideoStreamCorrelator=function(){if(!this.a||this.a.getVideoStreamCorrelator==h)return 0;var e=this.a.getVideoStreamCorrelator();return isNaN(e)?0:e},l.isAdRequestFinished=function(){return this.a?this.a.isAdRequestFinished!=h?this.a.isAdRequestFinished():h:k},l.isSlotAPersistentRoadblock=function(e){return this.a&&this.a.isSlotAPersistentRoadblock!=h?this.a.isSlotAPersistentRoadblock(e):k},l.collapseEmptyDivs=function(e){return this.I?G(this.log,"Ignoring subsequent call to set div collapse mode (already set)",this):this.isEnabled()?G(this.log,"Ignoring change to div collapse mode since the service is already enabled",this):(this.S=Boolean(e),this.log.info("Enabling collapsing of containers when there is no ad content. Collapse before ad fetch = "+this.S,this),this.I=g),this.I},l.clear=function(){return this.a?this.a.clearSlotContents!=h?(this.log.info("Clearing slot contents.",this),this.a.clearSlotContents()):(G(this.log,"The GPT implementation does not yet support clearing slots."),k):(G(this.log,"The slot contents cannot be cleared because the GPT implementation Javascript is not yet loaded.",this),k)},l.clearNoRefreshState=function(){this.a?this.a.clearNoRefreshState!=h?(this.log.info("Clearing no_refresh state.",this),this.a.clearNoRefreshState()):G(this.log,"The GPT implementation does not yet support clearNoRefreshState"):G(this.log,"The no_refresh state cannot be cleared because the GPT implementation Javascript is not yet loaded.",this)},l.clearSlotTargeting=function(e){this.a&&t(this.a.clearSlotTargeting)&&this.a.clearSlotTargeting(e)},l.Ia=function(e,n,r){this.a&&t(this.a.addSlotTargeting)&&this.a.addSlotTargeting(e,n,r)},l.recordImpression=function(e){this.a?t(this.a.recordImpression)?this.a.recordImpression(e):G(this.log,"The implementation does not support recordImpression, all impressions are recorded immediately.",this,e):this.T.push(e)},l.setLocation=function(t,r,i){var o="role:1 producer:12";if(r!==e){if(!s(t)||!s(r))return G(this.log,"Latitude and longitude are expected to be numbers"),this;o+=" latlng{ latitude_e7: "+Math.round(1e7*t)+" longitude_e7: "+Math.round(1e7*r)+"}";if(i!==e){if(isNaN(i))return G(this.log,"Radius is expected to be a number"),this;o+=" radius:"+Math.round(i)}}else 50<t.length&&(r=t.substring(0,50),G(this.log,"Location: "+t+" is longer than 50. Truncating it to"+r+"."),t=r),o+=' loc:"'+t+'"';if(ib)o=n.btoa(o);else{t=o,o=[];for(i=r=0;i<t.length;i++){for(var u=t.charCodeAt(i);255<u;)o[r++]=u&255,u>>=8;o[r++]=u}if(!ba(o))throw Error("encodeByteArray takes an array as a parameter");if(!hb){hb={};for(t=0;65>t;t++)hb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)}t=hb,r=[];for(i=0;i<o.length;i+=3){var a=o[i],f=(u=i+1<o.length)?o[i+1]:0,l=i+2<o.length,c=l?o[i+2]:0,h=a>>2,a=(a&3)<<4|f>>4,f=(f&15)<<2|c>>6,c=c&63;l||(c=64,u||(f=64)),r.push(t[h],t[a],t[f],t[c])}o=r.join("")}return this.V="a "+o,this},l.getVersion=function(){return this.a?this.a.getVersion==h?"unversioned":this.a.getVersion():e},l.Z=function(e){this.isEnabled()?G(this.log,"Ignoring experiment since the service is already enabled. Not setting: "+e,this):this.v.push(e)},A("pubads",function(){var e=V(),t=e.find("publisher_ads");return t||(t=new Z,e.add(t)),t}),Z.prototype.clear=Z.prototype.clear,Z.prototype.clearNoRefreshState=Z.prototype.clearNoRefreshState,Z.prototype.collapseEmptyDivs=Z.prototype.collapseEmptyDivs,Z.prototype.definePassback=Z.prototype.pb,Z.prototype.enableAsyncRendering=Z.prototype.enableAsyncRendering,Z.prototype.enableSingleRequest=Z.prototype.enableSingleRequest,Z.prototype.enableSyncRendering=Z.prototype.rb,Z.prototype.enableVideoAds=Z.prototype.sb,Z.prototype.forceExperiment=Z.prototype.Z,Z.prototype.getCorrelator=Z.prototype.getCorrelator,Z.prototype.getVideoContent=Z.prototype.Kb,Z.prototype.getVideoStreamCorrelator=Z.prototype.getVideoStreamCorrelator,Z.prototype.isAdRequestFinished=Z.prototype.isAdRequestFinished,Z.prototype.isSlotAPersistentRoadblock=Z.prototype.isSlotAPersistentRoadblock,Z.prototype.noFetch=Z.prototype.Mb,Z.prototype.onGoogleAdsJsLoad=Z.prototype.Ob,Z.prototype.refresh=Z.prototype.refresh,Z.prototype.setLocation=Z.prototype.setLocation,Z.prototype.setTargeting=Z.prototype.s,Z.prototype.setCategoryExclusion=Z.prototype.ua,Z.prototype.clearCategoryExclusions=Z.prototype.ta,Z.prototype.setVideoContent=Z.prototype.Ub,Z.prototype.getVersion=Z.prototype.getVersion,Z.prototype.videoRefresh=Z.prototype.Oa,Z.prototype.setCentering=Z.prototype.Rb,Z.prototype.setPublisherProvidedId=Z.prototype.setPublisherProvidedId,Z.prototype.setCookieOptions=Z.prototype.setCookieOptions;var qb=/#|$/,kb=function(e,t){var n=e.search(qb),r;e:{r=0;for(var i=t.length;0<=(r=e.indexOf(t,r))&&r<n;){var s=e.charCodeAt(r-1);if(38==s||63==s)if(s=e.charCodeAt(r+i),!s||61==s||38==s||35==s)break e;r+=i+1}r=-1}if(0>r)return h;i=e.indexOf("&",r);if(0>i||i>n)i=n;return r+=t.length+1,decodeURIComponent(e.substr(r,i-r).replace(/\+/g," "))},rb=function(){var e=window,t=document;if(z()._pubconsole_disable_)return k;var n;n=document.cookie.split("google_pubconsole=");if(n=2==n.length?n[1].split(";")[0]:"")if(n=n.split("|"),0<n.length&&("1"==n[0]||"0"==n[0]))return g;return e=fb(V(),e,t),kb(e,"google_debug")!==h||kb(e,"google_console")!==h||kb(e,"google_force_console")!==h},sb=function(){if(rb()){var e=document,t=e.createElement("script");t.type="text/javascript",t.src=(Za()?"https:":"http:")+"//publisherconsole.appspot.com/js/loader.js",t.async=g,(e=e.getElementsByTagName("script")[0])&&e.parentNode&&e.parentNode.insertBefore(t,e)}};"complete"===document.readyState?sb():va(window,sb),A("disablePublisherConsole",function(){z()._pubconsole_disable_=g}),A("getVersion",function(){return"21"});var $=z().cmd;if(!$||p($)){var tb=z().cmd=new J;$&&0<$.length&&tb.push.apply(tb,$)}(function(){var a=document.getElementsByTagName("script");0<a.length&&(a=a[a.length-1],a.src&&0<=a.src.indexOf("/tag/js/gpt.js")&&a.innerHTML&&!a.googletag_executed&&(a.googletag_executed=g,eval(a.innerHTML)))})()}(),define("gpt",function(e){return function(){var t,n;return t||e.googletag}}(this)),define("defaultSettings",[],function(){return{adsOnPage:{},debugQueue:[],adsDisabledOnPage:{},init:[]}}),define("utils/isObject",[],function(){return function(e){return typeof e=="object"&&e!==null&&Object.prototype.toString.call(e)==="[object Object]"}}),define("utils/extend",["utils/isObject"],function(e){function t(n,r,i){i=i||!1;for(var s in r)r.hasOwnProperty(s)&&(!i||!e(n[s])||!e(r[s])?n[s]=r[s]:n[s]=t(n[s],r[s],!0));return n}return t}),define("utils/isArray",[],function(){return function(e){return typeof e=="object"&&e!==null&&Object.prototype.toString.call(e)==="[object Array]"}}),define("utils/merge",["utils/isArray"],function(e){return function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t.hasOwnProperty(r)?t[r]=e(t[r])?t[r]:[t[r]]:t[r]=[],n[r]=e(n[r])?n[r]:[n[r]],t[r]=t[r].concat(n[r]));return t}}),define("utils/keyvalueIterator",["utils/isArray","utils/isObject"],function(e,t){return function(n,r){r=r||this;var i={},s,o,u,a;for(s in n)if(n.hasOwnProperty(s)){e(n[s])||(n[s]=[n[s]]),a=n[s].length;while(a--){o=n[s][a].call(r);if(o)if(t(o))for(u in o)o.hasOwnProperty(u)&&(o[u]=e(o[u])?o[u]:[o[u]],o[u].length&&o[u][0]!==!1&&(i[u]=i[u]||[],i[u]=i[u].concat(o[u])));else o=e(o)?o:[o],o.length&&o[0]!==!1&&(i[s]=i[s]||[],i[s]=i[s].concat(o))}}return i}}),define("utils/setTargeting",["utils/isArray"],function(e){return function(t,n){for(var r in t)t.hasOwnProperty(r)&&n.setTargeting(r,e(t[r])?t[r]:[t[r]])}}),define("Ad",["utils/extend","utils/merge","utils/isArray","utils/keyvalueIterator","utils/setTargeting"],function(e,t,n,r,i){function s(t){this.config=e({dfpSite:"/701/wpni.",where:undefined,size:null,what:null,pos:!1,posOverride:!1,interstitial:!1,onTheFly:!1},t,!0),this.config.pos==="interstitial"&&!this.config.interstitial&&(this.config.interstitial=!0,this.addInterstitialDiv()),t.hardcode||(this.keyvalues=this.buildKeyvalues())}return s.prototype={constructor:s,keyvaluesConfig:{pos:[function(){return[this.config.pos]}],dfpcomp:[function(){return window.dfpcomp?[window.dfpcomp]:!1}],onTheFly:[function(){var e={},t,n,r;if(this.config.onTheFly){t=this.config.onTheFly.split(";"),r=t.length;while(r--)n=t[r].split("="),n[0]&&n[1]&&(e[n[0]]=e[n[0]]||[],e[n[0]].push(n[1]))}return e}]},overrides:{},overridesExec:function(){var e,t,n;for(e in this.overrides)this.overrides.hasOwnProperty(e)&&this.config[e]&&this.overrides[e][this.config[e]]&&this.overrides[e][this.config[e]].call(this)},findSlugs:function(){this.config.slug=document.getElementById("slug_"+this.config.pos),this.config.wpni_adi=document.getElementById("wpni_adi_"+this.config.pos)},getContainer:function(){return this.findSlugs(),this.config.wpni_adi||this.config.slug},buildKeyvalues:function(){return r(this.keyvaluesConfig,this)},getKeyvalues:function(){return this.keyvalues},addKeyvaluesConfig:function(e){t(this.keyvaluesConfig,e)},addKeyvalues:function(e){t(this.keyvalues,e)},hardcode:function(){googletag.content().setContent(this.slot,this.hardcode)},addInterstitialDiv:function(){var e=document.createElement("div");e.id="slug_"+this.config.pos,e.style.display="none",document.body.insertBefore(e,document.body.firstChild)},buildGPTSlot:function(){return this.fullGPTSite=this.config.dfpSite+this.config.where,(this.config.interstitial?googletag.defineOutOfPageSlot(this.fullGPTSite,this.container.id):googletag.defineSlot(this.fullGPTSite,this.config.size,this.container.id)).addService(googletag.pubads())},getSlot:function(){return this.slot},slugDisplay:function(e){var t=e!==!1?"block":"none";this.config.slug&&(this.config.slug.style.display=t),this.config.wpni_adi&&(this.config.wpni_adi.style.display=t)},render:function(){this.slot?this.refresh():(this.container=this.getContainer(),this.container&&(this.slugDisplay(!0),this.config.hardcode?this.container.innerHTML=this.config.hardcode:(this.overridesExec(),this.slot=this.buildGPTSlot(),i(this.keyvalues,this.slot),googletag.display(this.container.id))))},refresh:function(){googletag.pubads().refresh([this.slot])}},s}),define("gptConfig",["utils/extend","utils/merge","utils/keyvalueIterator","utils/setTargeting","utils/isObject"],function(e,t,n,r,i){return{exec:function(s){this.config=e({async:!0,sra:!0,keyvaluesConfig:!1},s),this.pubservice=googletag.pubads(),i(this.config.keyvaluesConfig)&&(this.keyvaluesConfig=t(this.keyvaluesConfig,this.config.keyvaluesConfig)),this.keyvalues=n(this.keyvaluesConfig,this),r(this.keyvalues,this.pubservice),this.config.sra?this.pubservice.enableSingleRequest():this.pubservice.enableAsyncRendering(),googletag.enableServices()},init:function(e){var t=this;return googletag.cmd.push(function(){t.exec.call(t,e)}),this},keyvaluesConfig:{}}}),define("utils/wp_meta_data",[],function(){return window.wp_meta_data||{}}),define("utils/contentTypes",[],function(){return{audiostory:"audio",blogstory:"blog",front:"front",graphicstory:"graphic",mediagallery:"photo",panostory:"pano",ugcphotostory:"ugc",videostory:"video"}}),define("utils/zoneBuilder",["utils/wp_meta_data","utils/contentTypes"],function(e,t){return commercialNode=window.commercialNode||"politics",{contentType:t,zones:{contentType:function(){var t=this.getString(e.contentType);return t&&commercialNode!=="washingtonpost.com"&&this.contentType[t.toLowerCase()]||""},contentName:function(){return this.getString(e.contentName)},subsection:function(){return this.getString(e.subsection)}},getString:function(e){return e?typeof e=="string"?e:e[0]:""},validate:function(e){return e?(e=e.replace(/\s/g,"").replace(/^\/*|\/*$/g,"").replace(/[^0-9a-zA-Z_\.\-\/]/g,""),(/^[^a-z]/i.test(e)?"c":"")+e):!1},exec:function(){var e=this.zones,t=[this.validate(commercialNode)],n,r;for(n in e)e.hasOwnProperty(n)&&(r=this.validate(e[n].call(this)),r&&t.push(r));return this.executed=!0,t.join("/").toLowerCase()}}}),define("utils/urlCheck",[],function(){return function(e,t){var n=parent.window.location.href||document.referrer,r=t&&typeof t=="object"?t:null,i=r!==null&&r.type==="variable"?new RegExp("[\\?&;]"+e+"=([^&#?]*)"):new RegExp(e),s=i.exec(n);return s===null?null:s[s.length-1]}}),define("utils/estNowWithYear",[],function(){return function(){var e=new Date,t=e.getTime(),n=e.getDate(),r=(e.getDate()-e.getDay())%7,i=r<=0?r+7:r,s=e.getMonth()+1,o=(e.getTimezoneOffset()-(s<3||s>11?300:s>3&&s<11?240:s===3?n>i+7||n===i+7&&e.getHours()>=2?240:300:n>i||n===i&&e.getHours()>=2?300:240))*6e4,u=new Date(t+o),a=""+(u.getYear()<1900?u.getYear()+1900:u.getYear())+(u.getMonth()+1<10?"0"+(u.getMonth()+1):u.getMonth()+1)+(u.getDate()<10?"0"+u.getDate():u.getDate())+(u.getHours()<10?"0"+u.getHours():u.getHours())+(u.getMinutes()<10?"0"+u.getMinutes():u.getMinutes());return a.toString()}()}),define("utils/templateBuilder",["utils/urlCheck","utils/isArray","utils/estNowWithYear"],function(e,t,n){return{demoAds:e("demoAds",{type:"variable"}),exec:function(e){if(!this.demoAds){this.template={};for(var t in e)e.hasOwnProperty(t)&&(e[t].id=t,this.checkFlight(e[t])&&this.addToTemplate(e[t]))}else this.template=this.demoAdsTemplate(this.demoAds);return this.template},checkFlight:function(e){var t;for(t in this.checks)if(this.checks.hasOwnProperty(t)&&e.hasOwnProperty(t)&&!this.checkProperty(t,e[t]))return!1;return!0},checkProperty:function(e,n){n=t(n)?n:[n];var r=n.length,i=0,s=!1;for(i;i<r;i++)this.checks[e](n[i])&&(s=!0);return s},addToTemplate:function(e){if(e.what){var t=e.what,n=t.length,r=0,i;for(r;r<n;r++)/^\!/.test(t[r])?(i=t[r].split(/\!/)[1],this.template[i]&&delete this.template[i]):this.template[t[r]]=e}},demoAdsTemplate:function(e){var t=e.split(";"),n=t.length,r={};while(n--)t[n]=this.posConverter(t[n]),r[t[n]]={id:"demoAds"};return r},posConverter:function(e){var t={ad1:"leaderboard",ad2:"leaderboard_2",ad3:"skyscraper",ad6:"flex_ss_bb_hp",ad7:"featurebar",ad14:"tiffany_tile",ad16:"flex_bb_hp",ad19:"336x35",ad20:"bigbox",ad43:"pushdown",ad44:"extra_bb",ad45:"deal"};return t.hasOwnProperty(e)?t[e]:e},checks:{test:function(e){return typeof e=="function"?e():e},where:function(e){var t=!0;return/^\!/.test(e)&&(t=!1,e=e.split("!")[1]),(new RegExp("^"+e)).test(commercialNode)?t:!1},when:function(e){return e=e.split("/"),e[0]<=n&&e[1]>=n}}}}),define("utils/flags",["utils/wp_meta_data"],function(e){return{allAds:/allads/i.test(location.search),debug:/debugadcode/i.test(location.search),front:function(){return e.contentType?e.contentType[0]==="front"||e.contentType==="front":/^homepage/.test(commercialNode)?!0:window.commercialPageType&&window.commercialPageType==="front"?!0:!1}(),no_interstitials:/no_interstitials/i.test(location.search)}}),define("utils/getCookie",[],function(){return function(e){var t=""+document.cookie,n=""+e+"=",r=null,i=0,s=0;return t.length>0&&(i=t.indexOf(n),i!==-1&&(i+=n.length,s=t.indexOf(";",i),s===-1&&(s=t.length),r=unescape(t.substring(i,s)))),r}}),define("utils/setCookie",[],function(){return function(e,t,n,r,i,s){document.cookie=e+"="+escape(t)+(n?"; expires="+n:"")+(r?"; path="+r:"")+(i?"; domain="+i:"")+(s?"; secure":"")}}),define("utils/showInterstitial",["utils/flags","utils/getCookie","utils/setCookie"],function(e,t,n){return function(){if(document.cookie&&!e.no_interstitials){var r=document.domain+"_pageview",i=t(r),s=!0,o=(new Date(parseInt((new Date).getTime(),10)+432e5)).toString();return i?(s=Number(i)%3?!1:!0,n(r,Number(i)+1,o,"/")):n(r,"1",o,"/"),s}return!1}()}),define("wp/config",[],function(){return{flights:{defaults:{what:["leaderboard","leaderboard_2","flex","flex_re","flex_bb_hp","flex_ss_bb","flex_ss_tp","flex_ss_bb_hp","120x240","200x50","150x60","285x29","bigbox*","bigbox_vi","inline_bb","itb","skyscraper","grid_bigbox*","persistent_bb"]},homepage:{what:["!leaderboard"],where:["washingtonpost.com"]}},adTypes:{"120x240":{size:[[120,240]],keyvalues:{ad:["120x240"]}},"300x100":{size:[[300,100]]},"336x35":{size:[[336,35]],keyvalues:{ad:["336x35"],pos:["ad19"]}},"336x35_top":{size:[[336,35]],keyvalues:{ad:["336x35"]}},"336x60":{size:[[336,60]],keyvalues:{ad:["336x60"]}},"200x50":{size:[[200,50]],keyvalues:{ad:["200x50"]}},"150x60":{size:[[150,60]],keyvalues:{ad:["150x60"]}},"285x29":{size:[[285,29]],keyvalues:{ad:["285x29"]}},"600x130":{size:[[600,130]]},"88x31":{size:[[88,31]]},agoogleaday:{size:[[1,1]]},bigbox:{size:[[300,250]],keyvalues:{ad:["bb"],pos:["ad20"]}},deal:{size:[[1,1]],keyvalues:{ad:["deal"],pos:["ad45"]}},dealer_showcase:{size:[[1,1]]},extra_bb:{size:[[300,250]],keyvalues:{ad:["bb"],pos:["ad44"]}},featrent:{size:[[1,1]]},featurebar:{size:[[446,33]],keyvalues:{ad:["fb"],pos:["ad7"]}},flex:{size:[[336,850]],keyvalues:{ad:["hp"]}},flex_bb_hp:{size:[[300,250],[300,600],[336,850]],keyvalues:{ad:["hp","bb"],pos:["ad16"]}},flex_re:{size:[[300,250],[300,600]],keyvalues:{ad:["bb","tp"]}},flex_ss_bb:{size:[[160,600],[300,250]],keyvalues:{ad:["ss","bb"]}},flex_ss_bb_hp:{size:[[160,600],[300,250],[300,600],[336,850]],keyvalues:{ad:["ss","bb","hp"],pos:["ad6"]}},flex_ss_tp:{size:[[300,250],[300,600]],keyvalues:{ad:["bb","tp"]}},grid_bigbox:{size:[[300,250]]},inline_bb:{size:[[300,250]],keyvalues:{ad:["inline_bb"]}},interstitial:{size:[["N/A"]],keyvalues:{ad:["interstitial"]}},itb:{size:[[1,1]]},leaderboard:{size:[[728,90]],keyvalues:{ad:["lb"],pos:["ad1"]}},leaderboard_2:{size:[[728,90]],keyvalues:{ad:["lb"],pos:["ad2"]}},marketing:{size:[[1,1]]},mm_overlay:{size:[[1,1]]},nav_tile:{size:[[1,1]]},nn:{size:[[200,80]]},nn_footer:{size:[[200,30]],keyvalues:{ad:["nn_footer"]}},nn_hp:{size:[[190,20]],keyvalues:{ad:["nn_hp"]}},nn_rr:{size:[[200,80]],keyvalues:{ad:["nn_rr"]}},nn_sidebar:{size:[[200,30]],keyvalues:{ad:["nn_sidebar"]}},persistent_bb:{size:[[300,250]]},pptile:{size:[[300,60]]},promo:{size:[[200,60]]},pushdown:{size:[[1,1]],keyvalues:{pos:["ad43"]}},skyscraper:{size:[[160,600]],keyvalues:{ad:["ss"],pos:["ad3"]}},sponsor:{size:[[1,1]]},sponsor_links_bt:{size:[[1,1]]},sponsor_links_in:{size:[[1,1]]},sponsor_links_rr:{size:[[1,1]]},tiffany_tile:{size:[[200,60],[184,90]],keyvalues:{ad:["tiff"],pos:["ad14"]}},tooltile:{size:[[1,1]]},topjobs:{size:[[1,1]]}}}}),define("utils/keywords",["utils/isArray","utils/wp_meta_data"],function(e,t){return function(){if(t.keywords)return e(t.keywords)?t.keywords.join(","):t.keywords;var n=document.getElementsByTagName("meta"),r=n.length,i;while(r--)if(n[r].getAttribute("name")==="keywords"){i=n[r].getAttribute("content");if(i)return i}return""}()}),define("utils/wordMatch",["utils/isArray"],function(e){return function(t,n,r){r=r||!1,t=e(t)?t:[t];var i=[],s=r?"":"(|s|es|ed|ing|er)",o=t.length;if(o&&n){while(o--)i.push(t[o]+s);return i="\\b"+i.join("\\b|\\b")+"\\b",(new RegExp(i,"i")).test(n)}return!1}}),define("keyvalues/config/exclusions",["utils/flags","utils/keywords","utils/wordMatch"],function(e,t,n){return function(){var r=[],i={natural_disaster:["shell","exxon","citgo","bp","chevron","hess","sunoco","disaster","fire","explosion","oil","coal","death","dead","quake","earthquake","tsunami","tornado","hurricane","flood","bed bug","infestation"],human_disaster:["shoot","vatican","spanair","aground","rescue","attack","disaster","explosion","war","hostage","terror","terrorist","bomb","blast","mining","miner","violence","riot","crash","9/11","sept. 11","september 11"],financial_crisis:["corrupt","goldman","aig","foreclosure","enron","sec","mortgage","Insurance","health","bank","wall street","protest","labor strike","union strike","labor issue","union issue","teacher strike","teachers strike","election"],inappropriate:["gambling","sex","alcohol","pornography"]},s;if(!e.front)for(s in i)i.hasOwnProperty(s)&&n(i[s],t)&&r.push(s);return r}}),define("keyvalues/config/front",["utils/flags"],function(e){return function(){return e.front?["y"]:["n"]}}),define("keyvalues/config/kw",["utils/urlCheck"],function(e){return function(){var t=e("test_ads",{type:"variable"});return t?["test_"+t]:!1}}),define("keyvalues/config/pageId",["utils/wp_meta_data"],function(e){return function(){if(!e.page_id)return!1;var t=e.page_id.length;while(t--)e.page_id[t]=e.page_id[t].replace(/\./g,"_");return e.page_id}}),define("keyvalues/config/poe",["utils/setCookie","utils/getCookie"],function(e,t){return function(){var n=window.location.hostname+"_poe";return t(n)?["no"]:(e(n,"true","","/","",""),["yes"])}}),define("keyvalues/config/ref",[],function(){return function(){var e=[],t=document.referrer||"";return/facebook\.com|digg\.com|reddit\.com|myspace\.com|newstrust\.net|twitter\.com|delicious\.com|stumbleupon\.com/i.test(t)&&e.push("social"),location.search.match("wpisrc=")&&e.push("email"),e}}),define("keyvalues/config/rs",["utils/getCookie"],function(e){return function(){var t=e("rsi_segs"),n=[],r,i;if(t){t=t.replace(/J05531_/gi,"j").replace(/D08734_/gi,"d").split("|"),i=t.length;for(r=0;r<i;r++)n.push(t[r])}return n}}),define("keyvalues/config/u",["utils/getCookie","utils/wp_meta_data","utils/zoneBuilder"],function(e,t,n){return function(){var r=e("s_vi"),i=!1;return r&&(r=r.split(/\|/)[1],r&&(r=r.split(/\[/)[0].split(/-/),i="o*"+r[0]+","+r[1],window.TWP&&TWP.Data&&TWP.Data.Tracking&&TWP.Data.Tracking.props&&TWP.Data.Tracking.props.page_name&&(i+=","+TWP.Data.Tracking.props.page_name.replace(/ /g,"_").slice(0,100)),i+=",,,"+(t.contentType&&n.contentType[t.contentType.toString()]?n.contentType[t.contentType.toString()]:"article")+",abc")),[i]}}),define("keyvalues/desktop",["keyvalues/config/exclusions","keyvalues/config/front","keyvalues/config/kw","keyvalues/config/pageId","keyvalues/config/poe","keyvalues/config/ref","keyvalues/config/rs","keyvalues/config/u"],function(e,t,n,r,i,s,o,u){return{"!c":[e],front:[t],kw:[n],pageId:[r],poe:[i],ref:[s],rs:[o],u:[u]}}),define("wp/keyvalues",["utils/merge","keyvalues/desktop","utils/wp_meta_data","utils/wordMatch","utils/keywords","utils/getCookie"],function(e,t,n,r,i,s){return e(t,{"!c":[function(){return/washingtonpost\.com|personalpost|obituaries|weather|jobs\/search/.test(commercialNode)?["intrusive"]:!1}],articleId:[function(){var e=[],t;return n.contentType&&n.contentType[0]==="CompoundStory"&&(t=location.href.split("/"),e=[t[t.length-1].toLowerCase().split("_story")[0]]),e}],kw:[function(){var e=[],t={energy:["energy"],re:["builder","condo","home","homeowner","housing","mortgage","property","real estate","realtor","refinance","neighborhood"]},n;for(n in t)t.hasOwnProperty(n)&&r(t[n],i)&&e.push(n);return e}],WPATC:[function(){var e=s("WPATC"),t={},n,r,i;if(e){e=unescape(e).split(":"),n=e.length;while(n--)r=e[n].split("="),t[r[0]]?t[r[0]].push(r[1]):t[r[0]]=[r[1]]}return t}]})}),define("utils/reload",["utils/urlCheck"],function(e){return e("reload",{type:"variable"})==="true"}),define("wp/overrides",["utils/reload","utils/merge"],function(e,t){return{what:{tiffany_tile:function(){this.config.where==="washingtonpost.com"&&(this.config.size=[[184,90]])}},pos:{leaderboard:function(){this.config.where==="washingtonpost.com"&&(this.config.where+="/lb",e&&(this.config.where+="refresh"))},featrent:function(){var e=document.getElementById("wpni_adi_featrent");e&&(e.style.background="none",e.style.padding="0")},flex_bb_hp:function(){if(this.config.where==="washingtonpost.com")this.config.where+="/hpflex",e&&(this.config.where+="refresh");else if(this.config.where==="lifestyle/home"||this.config.where==="lifestyle/home/front"||this.config.where==="lifestyle/home-garden")this.config.where+="/flex"},pushdown:function(){if(this.config.where==="washingtonpost.com"){var e=document.getElementById("wpni_adi_pushdown");e&&(e.style.backgroundImage="url(http://img.wpdigital.net/wp-adv/test/mstest/pushdown-ad-small.png)",e.style.backgroundPosition="-7px -100px")}}},where:{}}}),define("siteScript",["defaultSettings","Ad","gptConfig","utils/zoneBuilder","utils/templateBuilder","utils/extend","utils/merge","utils/showInterstitial","utils/flags","wp/config","wp/keyvalues","wp/overrides"],function(e,t,n,r,i,s,o,u,a,f,l,c){return commercialNode=r.exec(),console.log(commercialNode),o(t.prototype.keyvaluesConfig,{ad:function(){if(f.adTypes[this.config.what].keyvalues&&f.adTypes[this.config.what].keyvalues.ad)return f.adTypes[this.config.what].keyvalues.ad},pos:function(){var e=f.adTypes[this.config.pos];return e&&e.keyvalues&&e.keyvalues.pos||!1}}),f.flights=s({interstitial:{what:["interstitial"],test:[u&&!a.front]}},f.flights),s(t.prototype.overrides,c),s(e,{constants:{dfpSite:"/701/wpni.",domain:"washingtonpost.com"},Ad:t,gptConfig:n.init({sra:!1,keyvaluesConfig:l}),flags:a,config:f,flights:i.exec(f.flights),cleanScriptTags:function(){return!1}})}),define("utils/getScript",[],function(){return function(e,t){var n=document.createElement("script"),r=document.body||document.getElementsByTagName("head")[0]||!1;t=t||!1,r&&(n.type="text/"+(e.type||"javascript"),n.src=e.src||e,typeof t=="function"&&(n.onreadystatechange=n.onload=function(){var e=n.readyState;!t.done&&(!e||/loaded|complete/.test(e))&&(t.done=!0,t())}),r.appendChild(n))}}),require(["gpt","siteScript","utils/isObject","utils/getScript"],function(e,t,n,r){var i=placeAd2.queue||[];t.adsOnPage=t.adsOnPage||{},t.adsDisabledOnPage=t.adsDisabledOnPage||{},t.debugQueue=t.debugQueue||[],t.init=t.init||{};if(t.flags.debug){r("js/debug.js");try{console.log("placeAd2 queue:",i)}catch(s){}}i.push([commercialNode,"interstitial",!1,""]),e.cmd.push(function(){placeAd2=function(){var e=arguments.length===1&&n(arguments[0])?arguments[0]:{where:arguments[0],what:arguments[1],onTheFly:arguments[3]},r=e.what,i=!1,s,o;/\|/.test(e.what)&&(s=e.what.split(/\|/),e.what=s[0],i=s[1],r=s.join("_")),t.config.adTypes[e.what]&&(t.flights&&t.flights[r]||t.flights[e.what+"*"]||t.flags.allAds)?t.adsOnPage[r]?t.adsOnPage[r].refresh():(o=new t.Ad({templateSettings:t.config.adTypes[e.what],dfpSite:t.constants.dfpSite,where:window.commercialNode,size:t.config.adTypes[e.what].size,what:e.what,pos:r,posOverride:i,hardcode:t.flights[r]&&t.flights[r].hardcode||!1,onTheFly:e.onTheFly}),o.render(),t.adsOnPage[r]=o):t.adsDisabledOnPage[r]=!0,t.debugQueue.push(r)},callPlaceAd2Queue(i)}),window.wpAd=t}),define("main",function(){})})();